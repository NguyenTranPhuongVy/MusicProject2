@using Music.Model.EF
@{
    MusicProjectDataEntities db = new MusicProjectDataEntities();
    ViewBag.Title = "RankMusic";
    Layout = "~/Views/Shared/_Layout.cshtml";
    List<Music> musics = db.Musics.ToList();

    var i = 1;
}

@if (ViewBag.Note == "all")
{
    <section class="services spad" ng-app="myApp">
        <div class="container" ng-controller="myCtrl">
            <div class="row">
                <div class="col-lg-12">
                    <h1 style="font-size: 50px" class="text-white font-weight-bold text-center mt-3">BẢNG XẾP HẠNG ÂM NHẠC</h1>

                    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/highcharts@6/highcharts.js"></script>
                    <!-- vue-highcharts should be load after Highcharts -->
                    <script src="https://cdn.jsdelivr.net/npm/vue-highcharts@0.1/dist/vue-highcharts.min.js"></script>

                    <div id="app">
                        <highcharts :options="options" ref="highcharts"></highcharts>
                    </div>
                    <table class="table text-white table-hover">
                        @foreach (var item in musics.Where(n => n.music_active == true).OrderByDescending(n => n.music_view).Take(10))
                        {
                            <tr class="mt-2" onclick="window.location.href = '/Musics/DetailsMusic/@item.music_id'">
                                <td width="10%">
                                    <br />
                                    <center>
                                        @if (i == 1)
                                        {
                                            <b class="text-primary" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 2)
                                        {
                                            <b class="text-success" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 3)
                                        {
                                            <b class="text-danger" style="font-size: 40px">@i -</b>
                                        }
                                        else
                                        {
                                            <b style="font-size: 40px">@i -</b>
                                        }
                                    </center>
                                </td>
                                <td width="40%">
                                    <img class="float-left" src="~/Images/Music/@item.music_img" style="width: 60px; height: 60px" />
                                    <div class="float-left">
                                        &nbsp;<b style="font-size: 20px" class="text-white">@item.music_name</b>
                                        <p>
                                            &nbsp;Nam phương
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <b class="text-center mt-5">03:22</b>
                                </td>
                                <td>
                                    <div class="float-right">
                                        <i class="fa fa-heart"></i>
                                        <i class="fa fa-download"></i>
                                    </div>
                                </td>
                            </tr>

                            i++;
                        }
                    </table>
                    <center>
                        <button class="btn btn-danger" style="font-size: 25px">Top 100</button>
                    </center>
                </div>
            </div>
        </div>
    </section>
}
else if (ViewBag.Note == "100")
{
    <section class="services spad" ng-app="myApp">
        <div class="container" ng-controller="myCtrl">
            <div class="row">
                <div class="col-lg-12">
                    <h1 style="font-size: 50px" class="text-white font-weight-bold text-center mt-3">BẢNG XẾP HẠNG ÂM NHẠC</h1>

                    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/highcharts@6/highcharts.js"></script>
                    <!-- vue-highcharts should be load after Highcharts -->
                    <script src="https://cdn.jsdelivr.net/npm/vue-highcharts@0.1/dist/vue-highcharts.min.js"></script>

                    <div id="app">
                        <highcharts :options="options" ref="highcharts"></highcharts>
                    </div>
                    <table class="table text-white table-hover">
                        @foreach (var item in musics.Where(n => n.music_active == true).OrderByDescending(n => n.music_view).Take(100))
                        {
                            <tr class="mt-2" onclick="window.location.href = '/Musics/DetailsMusic/@item.music_id'">
                                <td width="10%">
                                    <br />
                                    <center>
                                        @if (i == 1)
                                        {
                                            <b class="text-primary" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 2)
                                        {
                                            <b class="text-success" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 3)
                                        {
                                            <b class="text-danger" style="font-size: 40px">@i -</b>
                                        }
                                        else
                                        {
                                            <b style="font-size: 40px">@i -</b>
                                        }
                                    </center>
                                </td>
                                <td width="40%">
                                    <img class="float-left" src="~/Images/Music/@item.music_img" style="width: 60px; height: 60px" />
                                    <div class="float-left">
                                        &nbsp;<b style="font-size: 20px" class="text-white">@item.music_name</b>
                                        <p>
                                            &nbsp;Nam phương
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <b class="text-center mt-5">03:22</b>
                                </td>
                                <td>
                                    <div class="float-right">
                                        <i class="fa fa-heart"></i>
                                        <i class="fa fa-download"></i>
                                    </div>
                                </td>
                            </tr>

                            i++;
                        }
                    </table>
                    <center>
                        <button class="btn btn-danger" style="font-size: 25px">Top 100</button>
                    </center>
                </div>
            </div>
        </div>
    </section>
}
else if (ViewBag.Note == "viet")
{
    <section class="services spad" ng-app="myApp">
        <div class="container" ng-controller="myCtrl">
            <div class="row">
                <div class="col-lg-12">
                    <h1 style="font-size: 50px" class="text-white font-weight-bold text-center mt-3">BẢNG XẾP HẠNG ÂM NHẠC</h1>

                    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/highcharts@6/highcharts.js"></script>
                    <!-- vue-highcharts should be load after Highcharts -->
                    <script src="https://cdn.jsdelivr.net/npm/vue-highcharts@0.1/dist/vue-highcharts.min.js"></script>

                    <div id="app">
                        <highcharts :options="options" ref="highcharts"></highcharts>
                    </div>
                    <table class="table text-white table-hover">
                        @foreach (var item in musics.Where(n => n.music_active == true && n.nation_id == 2).OrderByDescending(n => n.music_view).Take(100))
                        {
                            <tr class="mt-2" onclick="window.location.href = '/Musics/DetailsMusic/@item.music_id'">
                                <td width="10%">
                                    <br />
                                    <center>
                                        @if (i == 1)
                                        {
                                            <b class="text-primary" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 2)
                                        {
                                            <b class="text-success" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 3)
                                        {
                                            <b class="text-danger" style="font-size: 40px">@i -</b>
                                        }
                                        else
                                        {
                                            <b style="font-size: 40px">@i -</b>
                                        }
                                    </center>
                                </td>
                                <td width="40%">
                                    <img class="float-left" src="~/Images/Music/@item.music_img" style="width: 60px; height: 60px" />
                                    <div class="float-left">
                                        &nbsp;<b style="font-size: 20px" class="text-white">@item.music_name</b>
                                        <p>
                                            &nbsp;Nam phương
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <b class="text-center mt-5">03:22</b>
                                </td>
                                <td>
                                    <div class="float-right">
                                        <i class="fa fa-heart"></i>
                                        <i class="fa fa-download"></i>
                                    </div>
                                </td>
                            </tr>

                            i++;
                        }
                    </table>
                    <center>
                        <button class="btn btn-danger" style="font-size: 25px">Top 100</button>
                    </center>
                </div>
            </div>
        </div>
    </section>
}
else if (ViewBag.Note == "tre")
{
    <section class="services spad" ng-app="myApp">
        <div class="container" ng-controller="myCtrl">
            <div class="row">
                <div class="col-lg-12">
                    <h1 style="font-size: 50px" class="text-white font-weight-bold text-center mt-3">BẢNG XẾP HẠNG ÂM NHẠC</h1>

                    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/highcharts@6/highcharts.js"></script>
                    <!-- vue-highcharts should be load after Highcharts -->
                    <script src="https://cdn.jsdelivr.net/npm/vue-highcharts@0.1/dist/vue-highcharts.min.js"></script>

                    <div id="app">
                        <highcharts :options="options" ref="highcharts"></highcharts>
                    </div>
                    <table class="table text-white table-hover">
                        @foreach (var item in musics.Where(n => n.music_active == true && n.nation_id == 4).OrderByDescending(n => n.music_view).Take(100))
                        {
                            <tr class="mt-2" onclick="window.location.href = '/Musics/DetailsMusic/@item.music_id'">
                                <td width="10%">
                                    <br />
                                    <center>
                                        @if (i == 1)
                                        {
                                            <b class="text-primary" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 2)
                                        {
                                            <b class="text-success" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 3)
                                        {
                                            <b class="text-danger" style="font-size: 40px">@i -</b>
                                        }
                                        else
                                        {
                                            <b style="font-size: 40px">@i -</b>
                                        }
                                    </center>
                                </td>
                                <td width="40%">
                                    <img class="float-left" src="~/Images/Music/@item.music_img" style="width: 60px; height: 60px" />
                                    <div class="float-left">
                                        &nbsp;<b style="font-size: 20px" class="text-white">@item.music_name</b>
                                        <p>
                                            &nbsp;Nam phương
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <b class="text-center mt-5">03:22</b>
                                </td>
                                <td>
                                    <div class="float-right">
                                        <i class="fa fa-heart"></i>
                                        <i class="fa fa-download"></i>
                                    </div>
                                </td>
                            </tr>

                            i++;
                        }
                    </table>
                    <center>
                        <button class="btn btn-danger" style="font-size: 25px">Top 100</button>
                    </center>
                </div>
            </div>
        </div>
    </section>
}
else if (ViewBag.Note == "aumy")
{
    <section class="services spad" ng-app="myApp">
        <div class="container" ng-controller="myCtrl">
            <div class="row">
                <div class="col-lg-12">
                    <h1 style="font-size: 50px" class="text-white font-weight-bold text-center mt-3">BẢNG XẾP HẠNG ÂM NHẠC</h1>

                    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.min.js"></script>
                    <script src="https://cdn.jsdelivr.net/npm/highcharts@6/highcharts.js"></script>
                    <!-- vue-highcharts should be load after Highcharts -->
                    <script src="https://cdn.jsdelivr.net/npm/vue-highcharts@0.1/dist/vue-highcharts.min.js"></script>

                    <div id="app">
                        <highcharts :options="options" ref="highcharts"></highcharts>
                    </div>
                    <table class="table text-white table-hover">
                        @foreach (var item in musics.Where(n => n.music_active == true && n.nation_id == 3).OrderByDescending(n => n.music_view).Take(100))
                        {
                            <tr class="mt-2" onclick="window.location.href = '/Musics/DetailsMusic/@item.music_id'">
                                <td width="10%">
                                    <br />
                                    <center>
                                        @if (i == 1)
                                        {
                                            <b class="text-primary" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 2)
                                        {
                                            <b class="text-success" style="font-size: 40px">@i -</b>
                                        }
                                        else if (i == 3)
                                        {
                                            <b class="text-danger" style="font-size: 40px">@i -</b>
                                        }
                                        else
                                        {
                                            <b style="font-size: 40px">@i -</b>
                                        }
                                    </center>
                                </td>
                                <td width="40%">
                                    <img class="float-left" src="~/Images/Music/@item.music_img" style="width: 60px; height: 60px" />
                                    <div class="float-left">
                                        &nbsp;<b style="font-size: 20px" class="text-white">@item.music_name</b>
                                        <p>
                                            &nbsp;Nam phương
                                        </p>
                                    </div>
                                </td>
                                <td>
                                    <b class="text-center mt-5">03:22</b>
                                </td>
                                <td>
                                    <div class="float-right">
                                        <i class="fa fa-heart"></i>
                                        <i class="fa fa-download"></i>
                                    </div>
                                </td>
                            </tr>

                            i++;
                        }
                    </table>
                    <center>
                        <button class="btn btn-danger" style="font-size: 25px">Top 100</button>
                    </center>
                </div>
            </div>
        </div>
    </section>
}
<script>
    var options = {
        title: {
            text: '',
            x: -20 //center
        },
        subtitle: {
            text: '',
            x: -20
        },
        xAxis: {
            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',
                'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'
            ]
        },
        yAxis: {
            title: {
                text: 'Temperature (°C)'
            },
            plotLines: [{
                value: 0,
                width: 1,
                color: '#808080'
            }]
        },
        tooltip: {
            valueSuffix: '°C'
        },
        legend: {
            layout: 'vertical',
            align: 'right',
            verticalAlign: 'middle',
            borderWidth: 0
        },
        series: [{
            name: 'Tokyo',
            data: [7.0, 6.9, 9.5, 14.5, 18.2, 21.5, 25.2, 26.5, 23.3, 18.3, 13.9, 9.6]
        }, {
            name: 'New York',
            data: [-0.2, 0.8, 5.7, 11.3, 17.0, 22.0, 24.8, 24.1, 20.1, 14.1, 8.6, 2.5]
        }, {
            name: 'Berlin',
            data: [-0.9, 0.6, 3.5, 8.4, 13.5, 17.0, 18.6, 17.9, 14.3, 9.0, 3.9, 1.0]
        }]
    };

    var vm = new Vue({
        el: '#app',
        data: {
            options: options
        },
        methods: {
            updateCredits: function () {
                var chart = this.$refs.highcharts.chart;
                chart.credits.update({
                    style: {
                        color: '#' + (Math.random() * 0xffffff | 0).toString(16)
                    }
                });
            }
        }
    });
</script>

