 
@using Music.Model.EF;
@using Music.FrontEnd.Function;
@model Album
@{
    ViewBag.Title = "ViewAlbums";
    Layout = "~/Views/Shared/_Layout.cshtml";

    MusicProjectDataEntities db = new MusicProjectDataEntities();
    FunctionController function = new FunctionController();
}
<link href="~/Content/Music.css" rel="stylesheet" />
<section class="services" ng-app="myApp">
    <div class="container mt-5" ng-controller="">
        <div class="row">
            <div class="col-lg-12">
                <div class="row mt-2">
                    <script type="application/x-javascript">
                        addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
                               function hideURLbar(){ window.scrollTo(0,1); } </script>
                    <!-- //for-mobile-apps -->
                    <link href="~/Content/Music/css/style.css" rel="stylesheet" type="text/css" media="all" />
                    <!-- js -->
                    <script src="~/Content/Music/js/jquery-1.11.1.min.js"></script>
                    <!-- //js -->
                    <link href="//fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
                    <script type="text/javascript">
                        //<![CDATA[
                        $(document).ready(function () {

                            new jPlayerPlaylist({
                                jPlayer: "#jquery_jplayer_2",
                                cssSelectorAncestor: "#jp_container_2"
                            }, [
                                @foreach(var item in db.PlayLists.Where(n=>n.albums_id == Model.album_id).OrderByDescending(n=>n.playlist_datecreate))
                                {
                                    @:{
                                    @:title: "@item.Music.music_name",
                                    @:mp3: "/Link/MP3/@item.Music.music_linkdow",
                                    @:oga: ""
                                    @:},
                                }
                            ], {
                                swfPath: "../../dist/jplayer",
                                supplied: "oga, mp3",
                                wmode: "window",
                                useStateClassSkin: true,
                                autoBlur: false,
                                smoothPlayBar: true,
                                keyEnabled: true
                            });
                        });
                                                                //]]>
                    </script>
                    <!-- main -->
                    <div class="col-lg-4">
                        <h4 class="font-weight-bold text-white">@Model.album_name</h4>
                        <div class="card-content w-100" style="height: 200px" onclick="window.location.href = '/Albums/ViewAlbums/@Model.album_id'">
                            <img class="ui medium rounded image" style="height: 200px" src="~/Images/Album/@Model.album_img" alt="coloring-book" />
                            <hr />
                            <div style="color: white">
                                Có tổng cộng <b>@db.PlayLists.Where(n => n.albums_id == Model.album_id).OrderByDescending(n => n.playlist_datecreate).Count() bài hát trong album "@Model.album_name"</b>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <div class="audio-record-list w3layouts_audio w-100">
                            <div id="jquery_jplayer_2" class="jp-jplayer w3l_play"></div>
                            <div id="jp_container_2" class="jp-audio agileits_audio" role="application" aria-label="media player">
                                <div class="jp-type-playlist agileinfo_playlist">
                                    <div class="jp-gui jp-interface wthree_jp">
                                        <div class="jp-controls w3_agileits_controls">
                                            <button class="jp-previous" role="button" tabindex="0">previous</button>
                                            <button class="jp-play" role="button" tabindex="0">play</button>
                                            <button class="jp-next" role="button" tabindex="0">next</button>
                                            <button class="jp-stop" role="button" tabindex="0">stop</button>
                                        </div>
                                        <div class="jp-progress agileits_w3layouts_progress">
                                            <div class="jp-seek-bar">
                                                <div class="jp-play-bar"></div>
                                            </div>
                                        </div>
                                        <div class="jp-volume-controls agile_volume">
                                            <button class="jp-mute" role="button" tabindex="0">mute</button>
                                            <button class="jp-volume-max" role="button" tabindex="0">max volume</button>
                                            <div class="jp-volume-bar">
                                                <div class="jp-volume-bar-value"></div>
                                            </div>
                                        </div>
                                        <div class="jp-time-holder w3_agile_holder">
                                            <div class="jp-current-time" role="timer" aria-label="time">&nbsp;</div>
                                            <div class="jp-duration" role="timer" aria-label="duration">&nbsp;</div>
                                        </div>
                                    </div>
                                    <div class="jp-playlist w3layouts_either">
                                        <ul>
                                            <li>&nbsp;</li>
                                        </ul>
                                    </div>
                                    <div class="jp-no-solution w3_no">
                                        <span>Update Required</span>
                                        To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- //main -->
                    <!-- script for play-list -->
                    <link href="~/Content/Music/css/jplayer.blue.monday.min.css" rel="stylesheet" type="text/css" />
                    <script type="text/javascript" src="~/Content/Music/js/jquery.jplayer.min.js"></script>
                    <script type="text/javascript" src="~/Content/Music/js/jplayer.playlist.min.js"></script>

                </div>
            </div>
        </div>
    </div>
</section>
<!-- angular -->

